#:import hex kivy.utils.get_color_from_hex
#:import threading threading
Radio_Player:
<Radio_Player>:
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: hex("#221c1e")
        Rectangle:
            pos: self.pos
            size: self.size
    rows: 5
    Menubar:
    AsyncImage:
        id: img_djs
        source: 'https://i.imgur.com/xJbTxCk.gif'
        anim_delay: 0.1
        keep_ratio: False
        pos: root.width+100, root.height+100
    Status:

    Bottom_layout:
<Bottom_layout>
    orientation: 'vertical'
    Label:
        
        id: name_song
        text:root.radio_name
        font_size: '25sp'
        font_name: 'fonts/TF_PHETHAI'
        size_hint_y: None
        size_hint_x: None
        pos_hint: {'x':0.395, 'y':0}
    Label:
        id: name_dj
        text: "18K Radio"
        font_name: 'fonts/TF_PHETHAI'
        font_size: f'{18*2.1}sp'
        size_hint_y: None
        size_hint_x: None 
        pos_hint: {'x':0.4, 'y':0}



    ToggleButton: #MUTE_VOLUME
        id: mute_volume
        background_color: hex("#221c1e")
        size_hint_y: None
        size_hint_x: None
        height: '60dp'
        width: '500dp'
        background_color: '#1d1719'
        background_normal: '#221c1e'
        on_state: root.on_state_mute_unmute(self)
        Image:
            id: img_sound
            source: 'unmute.png'
            size_hint_y: None
            height: '40dp'
            pos: '212dp','10dp'
    Label:
        height: '30dp'
        canvas:
            Color:
                rgb: hex("#1d1719")
            Rectangle:
                size: self.size     
                pos: self.pos
            Clear
            Color:
                rgb: hex("#1d1719")
            Rectangle:
                size: [210,60]  
                pos: [0,0]
        ToggleButton: #PLAY_PAUSE
            id: play_pause
            background_color: hex("#221c1e")
            size_hint_y: None
            height: '60dp'
            background_color: '#1d1719'
            background_normal: '#221c1e'
            pos: '309dp','0dp' 
            on_state: root.on_state_play_pause(self)
            Image:
                id: img_player
                source: 'play.png'
                size_hint_y: None
                height: '40dp'
                pos: '309dp','10dp'
        Slider:
            id: slider
            size_hint_y: None
            size_hint_x: None
            height: '60dp'
            width: '200dp'
            min:0
            pos: '10dp','0dp'
            max:100
            value: 80
            on_value: root.volume(self)
            cursor_image: 'slider.png'
            cursor_disabled_image: 'slider_disabled.png'
            background_horizontal:'slider_tab.png'
            background_width: '5dp'
        Label:
            text: str(int(slider.value)) + "%"
            font_size: '10dp'
            text_size: self.size
            size_hint_y: None
            pos: '30dp','45dp'
<Menubar>:
    ActionBar:
        overflow_image: 'Logo.png'
        pos_hint: {'top':1}
        ActionView:
            use_separator: False
            ActionPrevious:
                app_icon: '0'
                app_icon_height: '40dp'
                app_icon_width: '40dp'
                title: '#DEV 18K | สถานีความคิด ของทุกชีวิต ที่มีความทุกข์'
                with_previous: True
                on_release: root.Tray()
            ActionButton:
                icon: 'exit.png'
                text: ''
                on_release: root.Close_app()

<Status>:
    
    Label:
        id: listener
        text: "         " + "18 คน"
        text_size: self.size
        pos_hint: {'x': 1.0, 'y': 2.238}
        size_hint: 1.0,3.0
        font_size: '15sp'
        Image:
            source: 'headphone.png'
            pos: root.width-375, root.height + 320
                    #400               #600
            width: 40
            allow_stretch: True
        
    Label:
        id: request_check
        text: "ON"
        text_size: self.size
        pos_hint: {'x': 0.8, 'y': 2.238}
        size_hint: 0.144,3.0 #OFF 0.156,3.0
        font_size: '15sp'
        Image:
            source: 'request.png'
            pos: root.width-65, root.height + 322 
                    #400               #600
            width: 44
            allow_stretch: True
